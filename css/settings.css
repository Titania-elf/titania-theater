/* css/settings.css - 设置窗口 */

#t-settings-view {
    width: 800px; height: 80vh; max-width: 95vw;
    display: flex; flex-direction: column; background: #121212; overflow: hidden;
}

.t-set-body { flex-grow: 1; display: flex; overflow: hidden; }

/* 侧边导航 */
.t-set-nav {
    width: 160px; background: #181818; border-right: 1px solid #333;
    padding: 10px 0; display: flex; flex-direction: column; flex-shrink: 0;
}
.t-set-tab-btn {
    padding: 12px 20px; color: #888; cursor: pointer; transition: 0.2s;
    font-size: 0.95em; display: flex; align-items: center; gap: 10px;
}
.t-set-tab-btn:hover { background: #222; color: #ccc; }
.t-set-tab-btn.active {
    background: #2a2a2a; color: #bfa15f; border-left: 3px solid #bfa15f; font-weight: bold;
}

/* 内容页 */
.t-set-content { flex-grow: 1; padding: 20px; overflow-y: auto; background: #121212; }
.t-set-page { display: none; animation: fadeIn 0.3s; }
.t-set-page.active { display: block; }

/* 表单元素 */
.t-form-group { margin-bottom: 20px; }
.t-form-label { display: block; color: #aaa; margin-bottom: 8px; font-size: 0.9em; }
.t-form-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; border-bottom: 1px solid #222; padding-bottom: 15px; }

/* 预览球 */
.t-preview-container {
    background: #1a1a1a; border-radius: 8px; padding: 20px;
    display: flex; flex-direction: column; align-items: center; margin-bottom: 20px; border: 1px solid #333;
}
.t-preview-ball {
    /* [修改] 预览球支持变量 */
    border-radius: 50%; 
    background: var(--p-bg, #2b2b2b); 
    color: var(--p-icon, #fff);
    
    display: flex; align-items: center; justify-content: center;
    border: 2px solid transparent; transition: all 0.2s; position: relative; overflow: hidden;
    /* CSS变量预览 */
    box-shadow: 0 0 10px var(--p-theme);
}
.t-preview-ball img { width: 100%; height: 100%; object-fit: cover; }

/* 预览动画类 */
@keyframes p-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.p-loading { box-shadow: 0 0 15px var(--p-theme) !important; color: var(--p-theme) !important; background: transparent !important; }
.p-loading::before { content: ""; position: absolute; width: 200%; height: 200%; top: -50%; left: -50%; background: conic-gradient(transparent, transparent, transparent, var(--p-theme)); animation: p-spin 1.2s linear infinite; z-index: -2; }
.p-loading::after { content: ""; position: absolute; inset: 3px; background: #2b2b2b; border-radius: 50%; z-index: -1; }
@keyframes p-glow { 0%,100% { box-shadow: 0 0 5px var(--p-notify); } 50% { box-shadow: 0 0 20px var(--p-notify); } }
.p-notify { 
    border-color: var(--p-notify) !important; 
    animation: p-glow 1.5s infinite ease-in-out;
    /* [新增] 预览通知背景 */
    background: var(--p-notify-bg) !important;
}

/* 上传框 */
.t-upload-card {
    width: 100px; height: 100px; border: 2px dashed #444; border-radius: 8px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    cursor: pointer; color: #666; transition: 0.2s; background-size: cover; background-position: center;
}
.t-upload-card:hover { border-color: #bfa15f; color: #bfa15f; background-color: rgba(191, 161, 95, 0.05); }

/* Profile 管理 */
.t-prof-header { display: flex; gap: 10px; margin-bottom: 15px; align-items: center; }
.t-prof-select { flex-grow: 1; background: #222; color: #eee; border: 1px solid #444; padding: 8px; border-radius: 4px; }

/* 诊断日志 */
.t-log-box {
    background: #0f0f0f; color: #ccc;
    padding: 10px; border: 1px solid #333; border-radius: 4px;
    height: 250px; overflow-y: auto;
    font-family: 'Consolas', monospace; font-size: 0.8em;
    white-space: pre-wrap; word-break: break-all; margin-bottom: 10px;
}
.t-log-entry-error { color: #ff6b6b; border-bottom: 1px solid #333; padding: 2px 0; }
.t-log-entry-info { color: #90cdf4; border-bottom: 1px solid #333; padding: 2px 0; }
.t-log-entry-warn { color: #f1c40f; border-bottom: 1px solid #333; padding: 2px 0; }

@media screen and (max-width: 600px) {
    .t-set-body { flex-direction: column; }
    .t-set-nav { width: 100%; height: 50px; flex-direction: row; overflow-x: auto; border-right: none; border-bottom: 1px solid #333; }
    .t-set-tab-btn { padding: 0 15px; border-left: none; border-bottom: 3px solid transparent; white-space: nowrap; }
    .t-set-tab-btn.active { border-left: none; border-bottom-color: #bfa15f; background: transparent; }
}